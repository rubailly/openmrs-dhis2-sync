    def fetch_patient_id_from_encounter(self, encounter_id):
        """Fetch patient ID for a given encounter ID."""
        query = """
        SELECT patient_id
        FROM encounter
        WHERE encounter_id = %s;
        """
        try:
            cursor = self.connection.cursor()
            cursor.execute(query, (encounter_id,))
            result = cursor.fetchone()
            return result[0] if result else None
        except mysql.connector.Error as err:
            logging.error(f"Error fetching patient ID: {err}")
            raise
        finally:
            if cursor:
                cursor.close()
